<html>
  <head>
    <meta charset="UTF-8">
    <link rel='stylesheet' href='style.css'>
    <script defer src="cdn.min.js"></script>
  </head>
  <body>
    <script src="logic.js"></script>
<!--
a = new URL(window.location.href)
URL {origin: 'http://127.0.0.1:8081', protocol: 'http:', username: '', password: '', host: '127.0.0.1:8081', …}
a.searchParams.get("gemeente")
-->
    <div x-data="{ gemeentes: [], electionID: '', electionName: '' }" x-init="getGemeentesMeta($data)">
      <H1 x-text="electionName"></H1>
      <table>
        <tr>
          <th @click="gemeentes.sort((a,b) => a.gemeente.localeCompare(b.gemeente));">Gemeente</th>
          <th @click="gemeentes.sort((a,b) => a.kieskring.localeCompare(b.kieskring));">Kieskring</th>
          <th @click="gemeentes.sort((a,b) => a.opkomst - b.opkomst);">Opkomst</th>
          <th @click="gemeentes.sort((a,b) => a.volmachtperc - b.volmachtperc);">Bij volmacht</th>
          <th @click="gemeentes.sort((a,b) => a.kiespasperc - b.kiespasperc);">Kiespas</th>
          <th @click="gemeentes.sort((a,b) => a.blancoperc - b.blancoperc);">Blanco</th>
          <th @click="gemeentes.sort((a,b) => a.ongeldigperc - b.ongeldigperc);">Ongeldig</th>
          <th @click="gemeentes.sort((a,b) => a.toegelaten - b.toegelaten);">Toegelaten</th>
        </tr>
        <template x-for="g in gemeentes">
          <tr>
            <td><a x-bind:href="'overzicht-gemeente.html?gemeente='+g.gemeenteId"><span x-text="g.gemeente"></span></a></td>
            <td x-text="g.kieskring"></td>
            <td x-text="g.opkomst+'%'"></td>
            <td x-text="g.volmachtperc+'%'"></td>
            <td x-text="g.kiespasperc+'%'"></td>
            <td x-text="g.blancoperc+'%'"></td>
            <td x-text="g.ongeldigperc+'%'"></td>
            <td x-text="g.toegelaten"></td>
            
          </tr>
        </template>
      </table>
    </div>
  </body>
</html>
    
